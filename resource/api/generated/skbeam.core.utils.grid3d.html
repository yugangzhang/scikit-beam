<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>skbeam.core.utils.grid3d &mdash; scikit-beam 0.0.6 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootswatch-3.3.4/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="scikit-beam 0.0.6 documentation" href="../../../index.html" />
    <link rel="up" title="core subpackge" href="../core.html" />
    <link rel="next" title="skbeam.core.utils.pairwise" href="skbeam.core.utils.pairwise.html" />
    <link rel="prev" title="skbeam.core.utils.wedge_integration" href="skbeam.core.utils.wedge_integration.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../index.html">
          scikit-beam</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.6</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../../tutorial.html">Tutorial</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction to scikit-beam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installing scikit-beam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html#updating-your-installation">Updating Your Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whats_new.html">What&#8217;s new</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Complete Reference (API)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_guide/index.html">Development Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial with Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/dpc_demo.html">Differential Phase Contrast</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/speckle-plotting.html">Plotting helper functions for Speckle analysis &#8211; <code class="docutils literal"><span class="pre">xray_vision.mpl_plotting.speckle</span></code> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/XPCS_fitting_with_lmfit.html">XPCS fitting with lmfit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/Multi_tau_one_time_correlation_example.html">One Time Correlation Example for NIPA_GEL 250K¶</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/Generate_ROI_labeled_arrays.html">Generate Region of Interests (ROI) labeled arrays for simple shapes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/recip_example.html">This is an example of using real experimental data to plot the HK plane</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/plot_xrf_spectrum.html">Using X-ray fluorescence information in scikit-xray</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">skbeam.core.utils.grid3d</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="skbeam-core-utils-grid3d">
<h1>skbeam.core.utils.grid3d<a class="headerlink" href="#skbeam-core-utils-grid3d" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="skbeam.core.utils.grid3d">
<code class="descclassname">skbeam.core.utils.</code><code class="descname">grid3d</code><span class="sig-paren">(</span><em>q</em>, <em>img_stack</em>, <em>nx=None</em>, <em>ny=None</em>, <em>nz=None</em>, <em>xmin=None</em>, <em>xmax=None</em>, <em>ymin=None</em>, <em>ymax=None</em>, <em>zmin=None</em>, <em>zmax=None</em>, <em>binary_mask=None</em>, <em>n_threads=None</em><span class="sig-paren">)</span><a class="headerlink" href="#skbeam.core.utils.grid3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Grid irregularly spaced data points onto a regular grid via histogramming</p>
<p>This function will process the set of reciprocal space values (q), the
image stack (img_stack) and grid the image data based on the bounds
provided, using defaults if none are provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>q</strong> : ndarray</p>
<blockquote>
<div><p>(Qx, Qy, Qz) - HKL values - Nx3 array</p>
</div></blockquote>
<p><strong>img_stack</strong> : ndarray</p>
<blockquote>
<div><p>Intensity array of the images
dimensions are: [num_img][num_rows][num_cols]</p>
</div></blockquote>
<p><strong>nx</strong> : int, optional</p>
<blockquote>
<div><p>Number of voxels along x</p>
</div></blockquote>
<p><strong>ny</strong> : int, optional</p>
<blockquote>
<div><p>Number of voxels along y</p>
</div></blockquote>
<p><strong>nz</strong> : int, optional</p>
<blockquote>
<div><p>Number of voxels along z</p>
</div></blockquote>
<p><strong>xmin</strong> : float, optional</p>
<blockquote>
<div><p>Minimum value along x. Defaults to smallest x value in q</p>
</div></blockquote>
<p><strong>ymin</strong> : float, optional</p>
<blockquote>
<div><p>Minimum value along y. Defaults to smallest y value in q</p>
</div></blockquote>
<p><strong>zmin</strong> : float, optional</p>
<blockquote>
<div><p>Minimum value along z. Defaults to smallest z value in q</p>
</div></blockquote>
<p><strong>xmax</strong> : float, optional</p>
<blockquote>
<div><p>Maximum value along x. Defaults to largest x value in q</p>
</div></blockquote>
<p><strong>ymax</strong> : float, optional</p>
<blockquote>
<div><p>Maximum value along y. Defaults to largest y value in q</p>
</div></blockquote>
<p><strong>zmax</strong> : float, optional</p>
<blockquote>
<div><p>Maximum value along z. Defaults to largest z value in q</p>
</div></blockquote>
<p><strong>binary_mask</strong> : ndarray, optional</p>
<blockquote>
<div><p>The binary mask provides a mechanism to remove unwanted pixels
from the images.
Binary mask can be two different shapes.
- 1: 2-D with binary_mask.shape == np.asarray(img_stack[0]).shape
- 2: 3-D with binary_mask.shape == np.asarray(img_stack).shape</p>
</div></blockquote>
<p><strong>n_threads</strong> : int, optional</p>
<blockquote>
<div><p>Specify the number of threads for the c-module to use in its
calculations. A value of None indicates to use the number of
configured cores on the system.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mean</strong> : ndarray</p>
<blockquote>
<div><p>intensity grid.  The values in this grid are the
mean of the values that fill with in the grid.</p>
</div></blockquote>
<p><strong>occupancy</strong> : ndarray</p>
<blockquote>
<div><p>The number of data points that fell in the grid.</p>
</div></blockquote>
<p><strong>std_err</strong> : ndarray</p>
<blockquote>
<div><p>This is the standard error of the value in the
grid box.</p>
</div></blockquote>
<p><strong>oob</strong> : int</p>
<blockquote>
<div><p>Out Of Bounds. Number of data points that are outside of
the gridded region.</p>
</div></blockquote>
<p><strong>bounds</strong> : list</p>
<blockquote class="last">
<div><p>tuple of (min, max, step) for x, y, z in order: [x_bounds,
y_bounds, z_bounds]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The standard error is calculated &#8220;on the fly&#8221; on a per thread basis.
Therefore, the standard error is not correctly calculated if there is only
one value per voxel per thread. The standard error calculation is
therefore only valid when the number of values per voxel per thread is
greater than one. The n_threads can be used to set the number of cores used
to correct this if the standard error is needed to be accurate.</p>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../../_sources/resource/api/generated/skbeam.core.utils.grid3d.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2014-2015 Brookhaven National Lab.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>